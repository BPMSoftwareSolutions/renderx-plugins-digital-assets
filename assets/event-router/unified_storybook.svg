<svg viewBox="0 0 1600 1400" xmlns="http://www.w3.org/2000/svg">
  <!-- Unified EventRouter Storybook - One Bus Journey Through All Scenes -->
  
  <!-- Title -->
  <rect x="50" y="10" width="1500" height="60" fill="#E3F2FD" stroke="#1976D2" stroke-width="2" rx="5"/>
  <text x="800" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#1976D2">EventRouter School Bus Journey</text>
  <text x="800" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#424242">One Bus, Six Scenes - Complete Event Routing Story</text>
  
  <!-- Scene Backgrounds - Row 1 -->
  <!-- Scene 1: Depot (0,80) -->
  <g id="scene1" transform="translate(0, 80)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="150" cy="60" r="20"/>
      <circle cx="170" cy="60" r="15"/>
      <circle cx="130" cy="65" r="12"/>
      <circle cx="600" cy="80" r="25"/>
      <circle cx="625" cy="80" r="18"/>
      <circle cx="580" cy="85" r="15"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Road -->
    <rect x="0" y="280" width="800" height="60" fill="#404040"/>
    <rect x="0" y="278" width="800" height="2" fill="#606060"/>
    <rect x="0" y="340" width="800" height="2" fill="#606060"/>
    <!-- Dashed center line -->
    <g fill="#FFFF00">
      <rect x="50" y="308" width="40" height="4"/>
      <rect x="120" y="308" width="40" height="4"/>
      <rect x="190" y="308" width="40" height="4"/>
      <rect x="260" y="308" width="40" height="4"/>
      <rect x="330" y="308" width="40" height="4"/>
      <rect x="400" y="308" width="40" height="4"/>
      <rect x="470" y="308" width="40" height="4"/>
      <rect x="540" y="308" width="40" height="4"/>
      <rect x="610" y="308" width="40" height="4"/>
      <rect x="680" y="308" width="40" height="4"/>
      <rect x="750" y="308" width="40" height="4"/>
    </g>
    <!-- Depot building -->
    <g id="depot">
      <rect x="50" y="150" width="200" height="130" fill="#8B7355" stroke="#6B5535" stroke-width="2"/>
      <polygon points="40,150 150,110 260,110 260,150" fill="#654321" stroke="#543210" stroke-width="2"/>
      <rect x="80" y="200" width="60" height="80" fill="#666" stroke="#444" stroke-width="2" rx="3"/>
      <rect x="160" y="200" width="60" height="80" fill="#666" stroke="#444" stroke-width="2" rx="3"/>
      <rect x="100" y="160" width="100" height="20" fill="#FFFFFF" stroke="#333" stroke-width="1" rx="3"/>
      <text x="150" y="173" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">SCHOOL BUS DEPOT</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">Every journey starts with a <tspan fill="#FFD700">publish</tspan>.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">The depot launches the event onto the route.</text>
    </g>
  </g>

  <!-- Scene 2: Traffic Light (800,80) -->
  <g id="scene2" transform="translate(800, 80)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="120" cy="50" r="18"/>
      <circle cx="140" cy="50" r="12"/>
      <circle cx="650" cy="70" r="22"/>
      <circle cx="675" cy="70" r="16"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Road -->
    <rect x="0" y="280" width="800" height="60" fill="#404040"/>
    <rect x="0" y="278" width="800" height="2" fill="#606060"/>
    <rect x="0" y="340" width="800" height="2" fill="#606060"/>
    <!-- Guardrails -->
    <rect x="0" y="265" width="800" height="8" fill="#E0E0E0" stroke="#C0C0C0" stroke-width="1"/>
    <rect x="0" y="345" width="800" height="8" fill="#E0E0E0" stroke="#C0C0C0" stroke-width="1"/>
    <!-- Traffic light -->
    <g id="traffic-light" transform="translate(450, 180)">
      <rect x="18" y="70" width="4" height="80" fill="#666" stroke="#444" stroke-width="1"/>
      <rect x="5" y="10" width="30" height="70" rx="5" ry="5" fill="#333" stroke="#222" stroke-width="2"/>
      <circle cx="20" cy="25" r="8" fill="#222" stroke="#111" stroke-width="1"/>
      <circle cx="20" cy="40" r="8" fill="#222" stroke="#111" stroke-width="1"/>
      <circle cx="20" cy="55" r="8" fill="#222" stroke="#111" stroke-width="1"/>
      <circle cx="20" cy="25" r="6" fill="#FF0000">
        <animate attributeName="opacity" values="1;1;1;0.3;0.3" dur="12s" repeatCount="indefinite"/>
      </circle>
      <circle cx="20" cy="40" r="6" fill="#FFFF00">
        <animate attributeName="opacity" values="0.3;0.3;1;1;0.3" dur="12s" repeatCount="indefinite"/>
      </circle>
      <circle cx="20" cy="55" r="6" fill="#00FF00">
        <animate attributeName="opacity" values="0.3;0.3;0.3;1;1" dur="12s" repeatCount="indefinite"/>
      </circle>
    </g>
    <!-- Billboard -->
    <g id="billboard" transform="translate(500, 120)">
      <rect x="0" y="0" width="120" height="80" fill="#F0F0F0" stroke="#333" stroke-width="2" rx="3"/>
      <rect x="2" y="2" width="116" height="76" fill="#FFFFFF" stroke="#DDD" stroke-width="1" rx="2"/>
      <text x="60" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">MANIFEST</text>
      <text x="10" y="30" font-family="Courier, monospace" font-size="8" fill="#000">{</text>
      <text x="15" y="42" font-family="Courier, monospace" font-size="8" fill="#000">"topic": "bus.route",</text>
      <text x="15" y="54" font-family="Courier, monospace" font-size="8" fill="#000">"routes": ["school"],</text>
      <text x="15" y="66" font-family="Courier, monospace" font-size="8" fill="#000">"perf.debounceMs": 500</text>
      <text x="10" y="78" font-family="Courier, monospace" font-size="8" fill="#000">}</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">Data drives the route.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">The <tspan fill="#4A90E2">manifest</tspan> maps the path, while <tspan fill="#FFD44D">debounce</tspan> slows bursts at the light.</text>
    </g>
  </g>

  <!-- Row 2 -->
  <!-- Scene 3: Subscribers (0,530) -->
  <g id="scene3" transform="translate(0, 530)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="100" cy="45" r="16"/>
      <circle cx="600" cy="65" r="20"/>
      <circle cx="350" cy="35" r="13"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Road -->
    <rect x="0" y="280" width="800" height="60" fill="#404040"/>
    <rect x="0" y="278" width="800" height="2" fill="#606060"/>
    <rect x="0" y="340" width="800" height="2" fill="#606060"/>
    <!-- Bus stop shelter -->
    <g id="bus-stop-shelter" transform="translate(550, 180)">
      <rect x="0" y="0" width="120" height="8" fill="#4682B4" stroke="#2F4F4F" stroke-width="2" rx="4"/>
      <rect x="5" y="8" width="4" height="60" fill="#708090"/>
      <rect x="111" y="8" width="4" height="60" fill="#708090"/>
      <rect x="5" y="15" width="110" height="53" fill="#E0E7FF" stroke="#3B82F6" stroke-width="1" opacity="0.8"/>
      <rect x="15" y="45" width="40" height="15" fill="#3B82F6" stroke="#1E3A8A" stroke-width="1" rx="2"/>
      <rect x="65" y="45" width="40" height="15" fill="#EF4444" stroke="#DC2626" stroke-width="1" rx="2"/>
      <text x="35" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#1E3A8A">Live Subscriber</text>
      <text x="85" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#DC2626">Late Subscriber</text>
    </g>
    <!-- Replay Cache -->
    <g id="replay-cache-kiosk" transform="translate(680, 200)">
      <rect x="0" y="0" width="60" height="70" fill="#6B7280" stroke="#374151" stroke-width="2" rx="4"/>
      <rect x="8" y="15" width="44" height="30" fill="#1F2937" stroke="#111827" stroke-width="1" rx="2"/>
      <text x="30" y="27" text-anchor="middle" font-family="Courier, monospace" font-size="6" fill="#10B981">REPLAY CACHE</text>
      <text x="30" y="35" text-anchor="middle" font-family="Courier, monospace" font-size="5" fill="#FFFFFF">Last Message:</text>
      <text x="30" y="41" text-anchor="middle" font-family="Courier, monospace" font-size="4" fill="#FBBF24">{payload: "..."}</text>
      <rect x="5" y="50" width="50" height="12" fill="#FFFFFF" stroke="#333" stroke-width="1" rx="2"/>
      <text x="30" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#333">REPLAY CACHE</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">No one misses the bus.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">Live and late subscribers both get the message, thanks to the Replay Cache.</text>
    </g>
  </g>

  <!-- Scene 4: Conductor Hub (800,530) -->
  <g id="scene4" transform="translate(800, 530)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="90" cy="40" r="15"/>
      <circle cx="650" cy="60" r="18"/>
      <circle cx="300" cy="30" r="12"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Main road -->
    <rect x="0" y="280" width="800" height="60" fill="#404040"/>
    <rect x="0" y="278" width="800" height="2" fill="#606060"/>
    <rect x="0" y="340" width="800" height="2" fill="#606060"/>
    <!-- Transfer hub (circular) -->
    <g id="transfer-hub" transform="translate(450, 310)">
      <circle cx="0" cy="0" r="50" fill="#B0C4DE" stroke="#708090" stroke-width="3"/>
      <circle cx="0" cy="0" r="25" fill="#4682B4" stroke="#2F4F4F" stroke-width="2"/>
      <g id="conductor-icon">
        <line x1="-8" y1="8" x2="8" y2="-8" stroke="#FFFFFF" stroke-width="3" stroke-linecap="round"/>
        <circle cx="8" cy="-8" r="2" fill="#FFFFFF"/>
        <circle cx="5" cy="5" r="3" fill="#FFD700" stroke="#FFA500" stroke-width="1"/>
      </g>
      <text x="0" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1E3A8A">Conductor: play()</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">The <tspan fill="#6B4EFF">Conductor</tspan> orchestrates the flow.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">At the hub, events branch into sequences and plugins.</text>
    </g>
  </g>

  <!-- Row 3 -->
  <!-- Scene 5: Rules (0,980) -->
  <g id="scene5" transform="translate(0, 980)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="80" cy="35" r="14"/>
      <circle cx="600" cy="55" r="16"/>
      <circle cx="250" cy="25" r="11"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Road -->
    <rect x="0" y="280" width="800" height="60" fill="#404040"/>
    <rect x="0" y="278" width="800" height="2" fill="#606060"/>
    <rect x="0" y="340" width="800" height="2" fill="#606060"/>
    <!-- Enhanced guardrails -->
    <rect x="0" y="265" width="800" height="10" fill="#E0E0E0" stroke="#C0C0C0" stroke-width="1"/>
    <rect x="0" y="345" width="800" height="10" fill="#E0E0E0" stroke="#C0C0C0" stroke-width="1"/>
    <!-- Street signs -->
    <g id="loop-prevention-sign" transform="translate(100, 180)">
      <rect x="18" y="40" width="4" height="50" fill="#666"/>
      <polygon points="0,0 40,0 35,35 5,35" fill="#FFD700" stroke="#E6C200" stroke-width="2"/>
      <text x="20" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" font-weight="bold" fill="#DC143C">LOOP</text>
      <text x="20" y="36" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" font-weight="bold" fill="#DC143C">PREVENTION</text>
    </g>
    <g id="feature-flags-sign" transform="translate(600, 175)">
      <rect x="18" y="45" width="4" height="55" fill="#666"/>
      <rect x="0" y="0" width="40" height="30" fill="#4169E1" stroke="#191970" stroke-width="2" rx="3"/>
      <text x="20" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="5" font-weight="bold" fill="#FFFFFF">FEATURE</text>
      <text x="20" y="29" text-anchor="middle" font-family="Arial, sans-serif" font-size="5" font-weight="bold" fill="#FFFFFF">FLAGS</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">Rules keep the ride safe.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">Guardrails, flags, <tspan fill="#228B22">throttle</tspan>, and <tspan fill="#FFD44D">debounce</tspan> enforce stability.</text>
    </g>
  </g>

  <!-- Scene 6: School (800,980) -->
  <g id="scene6" transform="translate(800, 980)">
    <rect x="0" y="0" width="800" height="400" fill="#87CEEB"/>
    <!-- Clouds -->
    <g fill="#FFFFFF" opacity="0.8">
      <circle cx="70" cy="30" r="13"/>
      <circle cx="650" cy="50" r="15"/>
      <circle cx="200" cy="20" r="10"/>
    </g>
    <!-- Ground -->
    <rect x="0" y="250" width="800" height="150" fill="#4A6B3A"/>
    <!-- Road ending at school -->
    <rect x="0" y="280" width="400" height="60" fill="#404040"/>
    <rect x="400" y="280" width="400" height="60" fill="#C0C0C0"/>
    <!-- School building -->
    <g id="school-building" transform="translate(500, 100)">
      <rect x="0" y="50" width="200" height="120" fill="#CD853F" stroke="#8B4513" stroke-width="2"/>
      <polygon points="-10,50 100,10 210,50" fill="#8B0000" stroke="#654321" stroke-width="2"/>
      <rect x="85" y="120" width="30" height="50" fill="#4682B4" stroke="#2F4F4F" stroke-width="2" rx="15" ry="0"/>
      <rect x="20" y="70" width="20" height="20" fill="#87CEEB" stroke="#4682B4" stroke-width="1"/>
      <rect x="50" y="70" width="20" height="20" fill="#87CEEB" stroke="#4682B4" stroke-width="1"/>
      <rect x="130" y="70" width="20" height="20" fill="#87CEEB" stroke="#4682B4" stroke-width="1"/>
      <rect x="160" y="70" width="20" height="20" fill="#87CEEB" stroke="#4682B4" stroke-width="1"/>
      <rect x="60" y="130" width="80" height="15" fill="#FFFFFF" stroke="#333" stroke-width="1" rx="2"/>
      <text x="100" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">ELEMENTARY SCHOOL</text>
    </g>
    <!-- Sky Text -->
    <g id="sky-text" transform="translate(400, 40)">
      <text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8">Destination reached.</text>
      <text x="0" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">Events arrive at the school â€” the application state is updated.</text>
    </g>
  </g>

  <!-- Animated School Bus - Continuous Journey Through All Scenes -->
  <g id="animated-bus">
    <!-- Bus travels through all 6 scenes in sequence -->
    <animateTransform
      attributeName="transform"
      type="translate"
      values="300,330; 800,330; 1200,330; 1200,780; 800,780; 400,780; 400,1230; 800,1230; 1200,1230; 1200,1230"
      dur="60s"
      repeatCount="indefinite"/>

    <!-- Bus body -->
    <rect x="0" y="0" width="120" height="40" rx="4" ry="4" fill="#FFD700" stroke="#E6C200" stroke-width="2"/>

    <!-- Bus front -->
    <rect x="115" y="3" width="12" height="34" rx="6" ry="6" fill="#FFD700" stroke="#E6C200" stroke-width="2"/>

    <!-- Bus roof -->
    <rect x="-2" y="-3" width="124" height="6" rx="3" ry="3" fill="#FFA500"/>

    <!-- Front bumper -->
    <rect x="125" y="35" width="8" height="4" rx="2" ry="2" fill="#C0C0C0"/>

    <!-- Windows (tinted dark) -->
    <rect x="110" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="100" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="90" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="80" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="70" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="60" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="50" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="40" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="30" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="20" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <rect x="10" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>

    <!-- Emergency exit window -->
    <rect x="5" y="8" width="6" height="8" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>

    <!-- Door -->
    <rect x="95" y="22" width="12" height="18" rx="1" ry="1" fill="#E6C200" stroke="#D4AF37" stroke-width="1"/>
    <rect x="97" y="24" width="8" height="8" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"/>
    <circle cx="99" cy="35" r="1" fill="#000"/>

    <!-- School Bus text -->
    <text x="60" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#000">SCHOOL BUS</text>

    <!-- Orange stripe -->
    <rect x="0" y="20" width="120" height="4" fill="#FFA500"/>

    <!-- Front headlight (glowing) -->
    <circle cx="123" cy="12" r="3" fill="#FFFF00">
      <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Rear lights -->
    <rect x="2" y="8" width="3" height="4" rx="1.5" ry="1.5" fill="#FF0000"/>
    <rect x="2" y="28" width="3" height="4" rx="1.5" ry="1.5" fill="#FF0000"/>

    <!-- Front wheel with spinning spokes -->
    <g id="front-wheel">
      <circle cx="25" cy="42" r="8" fill="#333" stroke="#222" stroke-width="2"/>
      <circle cx="25" cy="42" r="4" fill="#666"/>
      <circle cx="25" cy="42" r="2" fill="#999"/>
      <g transform-origin="25 42">
        <line x1="25" y1="36" x2="25" y2="48" stroke="#AAA" stroke-width="1"/>
        <line x1="19" y1="42" x2="31" y2="42" stroke="#AAA" stroke-width="1"/>
        <animateTransform attributeName="transform" type="rotate" values="0;360" dur="1s" repeatCount="indefinite"/>
      </g>
    </g>

    <!-- Rear wheel with spinning spokes -->
    <g id="rear-wheel">
      <circle cx="95" cy="42" r="8" fill="#333" stroke="#222" stroke-width="2"/>
      <circle cx="95" cy="42" r="4" fill="#666"/>
      <circle cx="95" cy="42" r="2" fill="#999"/>
      <g transform-origin="95 42">
        <line x1="95" y1="36" x2="95" y2="48" stroke="#AAA" stroke-width="1"/>
        <line x1="89" y1="42" x2="101" y2="42" stroke="#AAA" stroke-width="1"/>
        <animateTransform attributeName="transform" type="rotate" values="0;360" dur="1s" repeatCount="indefinite"/>
      </g>
    </g>
  </g>

  <!-- Scene Labels -->
  <g id="scene-labels" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976D2">
    <text x="400" y="100" text-anchor="middle">Scene 1: Depot</text>
    <text x="1200" y="100" text-anchor="middle">Scene 2: Traffic Light</text>
    <text x="400" y="550" text-anchor="middle">Scene 3: Subscribers</text>
    <text x="1200" y="550" text-anchor="middle">Scene 4: Conductor Hub</text>
    <text x="400" y="1000" text-anchor="middle">Scene 5: Rules</text>
    <text x="1200" y="1000" text-anchor="middle">Scene 6: School</text>
  </g>

  <!-- Journey Progress Indicator -->
  <g id="progress-indicator" transform="translate(50, 1350)">
    <rect x="0" y="0" width="1500" height="30" fill="#E3F2FD" stroke="#1976D2" stroke-width="1" rx="15"/>
    <rect x="5" y="5" width="1490" height="20" fill="#FFFFFF" rx="10"/>
    <rect x="5" y="5" width="248" height="20" fill="#4CAF50" rx="10">
      <animate attributeName="width" values="0;248;496;744;992;1240;1490;1490" dur="60s" repeatCount="indefinite"/>
    </rect>
    <text x="750" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">EventRouter Journey Progress</text>
  </g>
</svg>
