<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="400" viewBox="0 0 800 400"
     xmlns="http://www.w3.org/2000/svg" role="img" aria-label="event-router-scene-1-rx-node-73eke9">
  <defs><linearGradient id="roadGradient" x1="0" y1="0" x2="1" y2="0"><stop offset="0" stop-color="#404040"/><stop offset="0.5" stop-color="#505050"/><stop offset="1" stop-color="#404040"/></linearGradient><linearGradient id="busGradient" x1="0" y1="0" x2="1" y2="0"><stop offset="0" stop-color="#FFD700"/><stop offset="0.5" stop-color="#FFA500"/><stop offset="1" stop-color="#FFD700"/></linearGradient><filter id="sceneShadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.25"/></filter><filter id="busGlow"><feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
</defs>
  
    <style>
      .active-glow rect { filter: url(#glow); stroke: #8b5cf6; }
      .connector { stroke-linecap: round; stroke-linejoin: round; }
      .boundary-title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-weight: 600; }
      .flow-token { animation-fill-mode: forwards; }
      .boundary-contained { overflow: hidden; }
    </style>
  
  <rect x="0" y="0" width="100%" height="100%" fill="#87CEEB"/>
  <!-- Scene 1: The bus leaving the depot with animations -->
<!-- Background sky -->
<rect x="0" y="0" width="800" height="250" fill="#87CEEB"></rect>
<!-- Clouds -->
<g fill="#FFFFFF" opacity="0.8">
<!-- Cloud 1 -->
<circle cx="150" cy="60" r="20"></circle>
<circle cx="170" cy="60" r="15"></circle>
<circle cx="130" cy="65" r="12"></circle>
<circle cx="165" cy="50" r="10"></circle>
<!-- Cloud 2 -->
<circle cx="600" cy="80" r="25"></circle>
<circle cx="625" cy="80" r="18"></circle>
<circle cx="580" cy="85" r="15"></circle>
<circle cx="620" cy="65" r="12"></circle>
<!-- Cloud 3 -->
<circle cx="400" cy="50" r="18"></circle>
<circle cx="420" cy="50" r="12"></circle>
<circle cx="385" cy="55" r="10"></circle>
</g>
<!-- Ground/grass verges -->
<rect x="0" y="250" width="800" height="150" fill="#4A6B3A"></rect>
<!-- Road -->
<rect x="0" y="280" width="800" height="60" fill="#404040"></rect>
<!-- Road edges -->
<rect x="0" y="278" width="800" height="2" fill="#606060"></rect>
<rect x="0" y="340" width="800" height="2" fill="#606060"></rect>
<!-- Dashed center line -->
<g fill="#FFFF00">
<rect x="50" y="308" width="40" height="4"></rect>
<rect x="120" y="308" width="40" height="4"></rect>
<rect x="190" y="308" width="40" height="4"></rect>
<rect x="260" y="308" width="40" height="4"></rect>
<rect x="330" y="308" width="40" height="4"></rect>
<rect x="400" y="308" width="40" height="4"></rect>
<rect x="470" y="308" width="40" height="4"></rect>
<rect x="540" y="308" width="40" height="4"></rect>
<rect x="610" y="308" width="40" height="4"></rect>
<rect x="680" y="308" width="40" height="4"></rect>
<rect x="750" y="308" width="40" height="4"></rect>
</g>
<!-- Depot building -->
<g id="depot">
<!-- Main building structure -->
<rect x="50" y="150" width="200" height="130" fill="#8B7355" stroke="#6B5535" stroke-width="2"></rect>
<!-- Roof -->
<polygon points="40,150 150,110 260,110 260,150" fill="#654321" stroke="#543210" stroke-width="2"></polygon>
<!-- Front overhang -->
<polygon points="45,150 45,140 255,140 255,150" fill="#765432" stroke="#654321" stroke-width="1"></polygon>
<!-- Garage door -->
<rect x="80" y="200" width="60" height="80" fill="#666" stroke="#444" stroke-width="2" rx="3"></rect>
<rect x="160" y="200" width="60" height="80" fill="#666" stroke="#444" stroke-width="2" rx="3"></rect>
<!-- Garage door panels -->
<g stroke="#555" stroke-width="1" fill="none">
<line x1="80" y1="215" x2="140" y2="215"></line>
<line x1="80" y1="230" x2="140" y2="230"></line>
<line x1="80" y1="245" x2="140" y2="245"></line>
<line x1="80" y1="260" x2="140" y2="260"></line>
<line x1="160" y1="215" x2="220" y2="215"></line>
<line x1="160" y1="230" x2="220" y2="230"></line>
<line x1="160" y1="245" x2="220" y2="245"></line>
<line x1="160" y1="260" x2="220" y2="260"></line>
</g>
<!-- Depot sign -->
<rect x="100" y="160" width="100" height="20" fill="#FFFFFF" stroke="#333" stroke-width="1" rx="3"></rect>
<text x="150" y="173" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">SCHOOL BUS DEPOT</text>
</g>
<!-- School bus with movement animation -->
<g id="school-bus" transform="translate(300, 250)"><animate id="disappear-8y4i4av9n" attributeName="opacity" from="1" to="0" begin="6s" dur="0.5s" fill="freeze"/>
<!-- Bus movement animation from left to right -->
<animateTransform attributeName="transform" type="translate" values="300,250; 900,250" dur="8s" repeatCount="indefinite" end="6s"/>
<!-- Bus body -->
<rect x="0" y="0" width="120" height="40" rx="4" ry="4" fill="#FFD700" stroke="#E6C200" stroke-width="2"></rect>
<!-- Bus front -->
<rect x="115" y="3" width="12" height="34" rx="6" ry="6" fill="#FFD700" stroke="#E6C200" stroke-width="2"></rect>
<!-- Bus roof -->
<rect x="-2" y="-3" width="124" height="6" rx="3" ry="3" fill="#FFA500"></rect>
<!-- Front bumper -->
<rect x="125" y="35" width="8" height="4" rx="2" ry="2" fill="#C0C0C0"></rect>
<!-- Windows (tinted dark) -->
<rect x="110" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="100" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="90" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="80" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="70" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="60" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="50" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="40" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="30" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="20" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<rect x="10" y="6" width="8" height="12" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<!-- Emergency exit window -->
<rect x="5" y="8" width="6" height="8" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<!-- Door -->
<rect x="95" y="22" width="12" height="18" rx="1" ry="1" fill="#E6C200" stroke="#D4AF37" stroke-width="1"></rect>
<rect x="97" y="24" width="8" height="8" rx="1" ry="1" fill="#2F4F4F" opacity="0.8"></rect>
<circle cx="99" cy="35" r="1" fill="#000"></circle>
<!-- School Bus text -->
<text x="60" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#000">SCHOOL BUS</text>
<!-- Orange stripe -->
<rect x="0" y="20" width="120" height="4" fill="#FFA500"></rect>
<!-- Front headlight (glowing) -->
<circle cx="123" cy="12" r="3" fill="#FFFF00">
<animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"></animate>
</circle>
<!-- Rear lights -->
<rect x="2" y="8" width="3" height="4" rx="1.5" ry="1.5" fill="#FF0000"></rect>
<rect x="2" y="28" width="3" height="4" rx="1.5" ry="1.5" fill="#FF0000"></rect>
<!-- Front wheel with spinning spokes -->
<g id="front-wheel">
<circle cx="25" cy="42" r="8" fill="#333" stroke="#222" stroke-width="2"></circle>
<circle cx="25" cy="42" r="4" fill="#666"></circle>
<circle cx="25" cy="42" r="2" fill="#999"></circle>
<g transform-origin="25 42">
<line x1="25" y1="36" x2="25" y2="48" stroke="#AAA" stroke-width="1"></line>
<line x1="19" y1="42" x2="31" y2="42" stroke="#AAA" stroke-width="1"></line>
<animateTransform attributeName="transform" type="rotate" values="0;360" dur="1s" repeatCount="indefinite" end="6s"/>
</g>
</g>
<!-- Rear wheel with spinning spokes -->
<g id="rear-wheel">
<circle cx="95" cy="42" r="8" fill="#333" stroke="#222" stroke-width="2"></circle>
<circle cx="95" cy="42" r="4" fill="#666"></circle>
<circle cx="95" cy="42" r="2" fill="#999"></circle>
<g transform-origin="95 42">
<line x1="95" y1="36" x2="95" y2="48" stroke="#AAA" stroke-width="1"></line>
<line x1="89" y1="42" x2="101" y2="42" stroke="#AAA" stroke-width="1"></line>
<animateTransform attributeName="transform" type="rotate" values="0;360" dur="1s" repeatCount="indefinite"/>
</g>
</g>
</g>
<!-- Sky Text -->
<g id="sky-text" transform="translate(400, 40)">
<!-- Bold headline -->
<text x="0" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="40" font-weight="bold" fill="#1E3A56" stroke="#FFFFFF" stroke-width="2" stroke-opacity="0.8" style="filter: drop-shadow(0px 2px 3px rgba(255,255,255,0.6))">Every journey starts with a <tspan fill="#FFD700">publish</tspan>.</text>
<!-- Supporting description -->
<text x="0" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" fill="#3C556E" style="filter: drop-shadow(0px 1px 2px rgba(255,255,255,0.5))">The depot launches the event onto the route.</text>
</g>
<!-- Caption -->
<g id="caption" transform="translate(400, 370)">
<rect x="-150" y="-10" width="300" height="25" fill="#FFFFFF" fill-opacity="0.9" stroke="#333" stroke-width="1" rx="5"></rect>
<text x="0" y="8" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Bus leaves depot â†’ publish(topic, payload)</text>
</g>

  
  
  
</svg>